{"version":3,"sources":["webpack:///static/js/4.5da1a2bbe9050d9d9e35.js","webpack:///./src/components/orders/login.vue","webpack:///src/components/orders/login.vue","webpack:///./src/components/orders/login.vue?6f91"],"names":["webpackJsonp","IQTo","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_login_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_ad490900_hasScoped_false_optionsId_0_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_login_vue__","__WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_lib_runtime_component_normalizer__","Component","p4xZ","data","id","mounted","_this","this","getParameter","$http","get","httpUrl","params","code","then","response","token","setCookie","window","history","go","getCookie","redirct_url","encodeURI","location","href","methods","name","exp","Date","setTime","getTime","document","cookie","encodeURIComponent","toGMTString","sProp","re","RegExp","a","exec","search","vDgL","d","render","staticRenderFns","_vm","_h","$createElement","_self","_c","_m","staticClass","_v"],"mappings":"AAAAA,cAAc,IAERC,KACA,SAAUC,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,GAC7C,IAAIC,GAAiHJ,EAAoB,QAErIK,EAA0NL,EAAoB,QCTvQM,EAAAN,EAAA,QAcAO,EAAAN,OAAAK,EAAA,GACAF,EAAA,EACAC,EAAA,EACAA,EAAA,GAXA,EAEA,KAEA,KAEA,KAYAN,GAAA,QAAAQ,EAAA,SDgBMC,KACA,SAAUV,EAAQC,EAAqBC,GAE7C,YEpCAD,GAAA,GACAU,KADA,WAEA,OACAC,GAAA,OAGAC,QAAA,cAAAC,GAAAC,IAcA,IAZA,MAAAA,KAAAC,aAAA,SACAD,KAAAE,MACAC,IAAAH,KAAAI,QAAA,uCACAC,QAAAC,KAAAN,KAAAC,aAAA,WAEAM,KAAA,SAAAC,GACA,GAAAC,GAAAD,EAAAZ,UAAAa,KACAV,GAAAW,UAAA,QAAAD,GACAE,OAAAC,QAAAC,IAAA,KAIA,IAAAb,KAAAc,UAAA,gBAAAd,KAAAC,aAAA,SACA,GACAc,GAAAC,UAAA,4DACAL,QAAAM,SAAAC,KACA,6FAGAH,EACA,kEAGAI,SACAT,UADA,SACAU,EAAA9B,GACA,GAAA+B,GAAA,GAAAC,KASA,OARAD,GAAAE,QAAAF,EAAAG,UAAA,OACAC,SAAAC,OACAN,EACA,IACAO,mBAAArC,GACA,YACA+B,EAAAO,cACA,WACA,GAEA3B,aAbA,SAaA4B,GACA,GAAAC,GAAA,GAAAC,QAAAF,EAAA,gBACAG,EAAAF,EAAAG,KAAAR,SAAAR,SAAAiB,OACA,cAAAF,EAAA,KACAA,EAAA,OFyCMG,KACA,SAAUlD,EAAQC,EAAqBC,GAE7C,YAC+BA,GAAoBiD,EAAElD,EAAqB,IAAK,WAAa,MAAOmD,KGpGnGlD,EAAAiD,EAAAlD,EAAA,qBAAAoD,IAAA,IAAAD,GAAA,WAA0B,GAAAE,GAAAvC,KAAawC,EAAAD,EAAAE,cAA0BF,GAAAG,MAAAC,EAAwB,OAAAJ,GAAAK,GAAA,IACzFN,GAAA,WAAoC,GAAAC,GAAAvC,KAAawC,EAAAD,EAAAE,eAA0BE,EAAAJ,EAAAG,MAAAC,IAAAH,CAAwB,OAAAG,GAAA,OAAiBE,YAAA,SAAmBF,EAAA,OAAYE,YAAA,aAAuBN,EAAAO,GAAA","file":"static/js/4.5da1a2bbe9050d9d9e35.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ \"IQTo\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_login_vue__ = __webpack_require__(\"p4xZ\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_ad490900_hasScoped_false_optionsId_0_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_login_vue__ = __webpack_require__(\"vDgL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_lib_runtime_component_normalizer__ = __webpack_require__(\"XyMi\");\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\n\nvar Component = Object(__WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_lib_runtime_component_normalizer__[\"a\" /* default */])(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_login_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_ad490900_hasScoped_false_optionsId_0_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_login_vue__[\"a\" /* render */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_ad490900_hasScoped_false_optionsId_0_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_login_vue__[\"b\" /* staticRenderFns */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"p4xZ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      id: null\n    };\n  },\n\n  mounted: function mounted() {\n    var _this = this;\n\n    //判断CODE\n    if (this.getParameter(\"code\") != null) {\n      this.$http.get(this.httpUrl + \"/merchant/customer/loginMerchant.do\", {\n        params: { code: this.getParameter(\"code\") }\n      }).then(function (response) {\n        var token = response.data.data.token;\n        _this.setCookie(\"token\", token);\n        window.history.go(-1);\n      });\n    }\n    //判断COOKIE有没有token\n    if (this.getCookie(\"token\") == \"\" && this.getParameter(\"code\") == null) {\n      var appid = \"wxfaaa4af41d451ca0\";\n      var redirct_url = encodeURI('http://japitta.leeking.cn/booking_merchant/#/orders/login');\n      window.location.href = \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=\" + appid + \"&redirect_uri=\" + redirct_url + \"&response_type=code&scope=snsapi_base&state=1#wechat_redirect\";\n    }\n  },\n  methods: {\n    setCookie: function setCookie(name, value) {\n      var exp = new Date();\n      exp.setTime(exp.getTime() + 1 * 24 * 60 * 60 * 1000); //1天过期\n      document.cookie = name + \"=\" + encodeURIComponent(value) + \";expires=\" + exp.toGMTString() + \";path=/\";\n      return true;\n    },\n    getParameter: function getParameter(sProp) {\n      var re = new RegExp(sProp + \"=([^&]*)\", \"i\");\n      var a = re.exec(document.location.search);\n      if (a == null) return null;\n      return a[1];\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"vDgL\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return staticRenderFns; });\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"finished\"},[_vm._v(\"登录中\")])])}]\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/4.5da1a2bbe9050d9d9e35.js","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ad490900\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/orders/login.vue\n// module id = IQTo\n// module chunks = 4","<template>\n  <div class=\"page\">\n     <div class=\"finished\">登录中</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      id:null,\n    };\n  },\n  mounted: function() {\n    //判断CODE\n    if (this.getParameter(\"code\") != null) {\n      this.$http\n        .get(this.httpUrl + \"/merchant/customer/loginMerchant.do\", {\n          params: {code:this.getParameter(\"code\")}\n        })\n        .then(response => {\n          var token=response.data.data.token\n            this.setCookie(\"token\",token);\n            window.history.go(-1)\n        })\n    }\n    //判断COOKIE有没有token\n    if (this.getCookie(\"token\") ==\"\"&&this.getParameter(\"code\")==null) {\n      var appid = \"wxfaaa4af41d451ca0\";\n      var redirct_url=encodeURI('http://japitta.leeking.cn/booking_merchant/#/orders/login');\n      window.location.href =\n        \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=\" +\n        appid +\n        \"&redirect_uri=\" +\n        redirct_url +\n        \"&response_type=code&scope=snsapi_base&state=1#wechat_redirect\";\n    }\n  },\n  methods: {\n    setCookie(name, value) {\n      var exp = new Date();\n      exp.setTime(exp.getTime() + 1 * 24 * 60 * 60 * 1000); //1天过期\n      document.cookie =\n        name +\n        \"=\" +\n        encodeURIComponent(value) +\n        \";expires=\" +\n        exp.toGMTString() +\n        \";path=/\";\n      return true;\n    },\n    getParameter(sProp) {\n      var re = new RegExp(sProp + \"=([^&]*)\", \"i\");\n      var a = re.exec(document.location.search);\n      if (a == null) return null;\n      return a[1];\n    }\n  }\n};\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/orders/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"finished\"},[_vm._v(\"登录中\")])])}]\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ad490900\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/orders/login.vue\n// module id = vDgL\n// module chunks = 4"],"sourceRoot":""}